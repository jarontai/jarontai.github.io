---
layout: post
title: "Dart学习笔记：Dartlang的重要概念"
date: 2015-06-06 10:50:39 +0800
comments: true
categories: dart
---
  因为工作也算比较忙，对Dart的学习也是断断续续，积累下来的东西不多，还是写点学习笔记吧。今天先来第一篇，记录一下Dartlang的一些重要概念（或者说区别于其他编程语言的一些特性，这里拿使用Java与JavaScript来作比较）。

### "真正的面向对象"
  在谈到面向对象的编程语言时，Java经常被人提起，但其实Java并非“真正的面向对象”，因为它的基本数据类型都不是对象。而在Dart中，“一切皆对象”。Dart的类都继承自Object类，所有的变量都指向一个对象，数字、函数甚至null本身也是一个对象，所有未被初始化的变量也都被赋予null，可以说Dart才是一门“真正面向对象”的编程语言。示例如下：

  <img src="{{ root_url }}/images/custom/dart_notes/everything_is_object.png" />

### 类型是可选的
  Dart的类型，似乎是Java跟JavaScript类型系统的结合。你不想使用类型时，可以用var声明变量，这样，你就可以像写JavaScript一样自由的书写代码。<!-- more --> 反过来，你也可以像Java一样，为每个变量都指定类型。而这就使得编辑器等工具能对代码进行静态检查，如果你把数字赋给了一个String类型的变量，那编辑器会有警告信息提示你。示例如下：

  <img src="{{ root_url }}/images/custom/dart_notes/optional_types.png" />

### 函数是一等公民
  跟JavaScript类似，Dart的函数是对象，你可以定义顶层函数，或是把函数存放到变量里面，又或是通过函数来实现闭包。示例如下：

  <img src="{{ root_url }}/images/custom/dart_notes/function_is_good.png" />

### 库与可见性
  Dart的库（library）初看可能有点像Java的包（package），但其实它们非常不同。Dart的library是一个或多个dart文件，一个dart文件内可以包含多个函数与类。而Java的包是一个文件夹，文件夹里面包含多个java文件，一个文件对应一个类。Dart的库没有public、protected、private等访问控制符，只要某个标志符（如：顶层函数，类的属性等）是以下划线开头，那它就是库私有的，对外不可见。

### 运行模式
  Dart运行时（runtime）有两种模式：production与checked。Production模式是默认模式，它对程序速度进行了优化，但是也关闭了类型检查以及断言（assert）。Checked模式则相反，打开了断言与类型检查，但是运行速度就比不过production。具体来说，如果你把数字赋给了一个String类型的变量，在checked模式下运行会抛出异常，但是在production模式下则不会。所以，开发时建议一直使用checked模式，在生产环境下才使用production模式。

未完待续...